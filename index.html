<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IAtoolbox – Dashboard Profesional de Herramientas IA</title>
    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #0ea5e9;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f8fafc;
            --gray: #64748b;
            --glass: rgba(30, 41, 59, 0.7);
            --card-bg: rgba(15, 23, 42, 0.9);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Loading Animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(99, 102, 241, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Navbar Glassmorphism */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.2rem 5%;
            background: var(--glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo i {
            font-size: 2rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            transition: var(--transition);
            position: relative;
        }

        .nav-links a:hover {
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: var(--transition);
            transform: translateX(-50%);
        }

        .nav-links a:hover::after {
            width: 80%;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 0 5%;
            padding-top: 80px;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
            z-index: 2;
            animation: fadeUp 1s ease-out;
        }

        @keyframes fadeUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--light), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            color: #cbd5e1;
            margin-bottom: 2rem;
            max-width: 600px;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 1rem 2rem;
            border-radius: 0.75rem;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            border: none;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-3px);
        }

        /* Section */
        .section {
            padding: 5rem 5%;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Search and Filters */
        .tools-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .search-box {
            flex: 1;
            max-width: 400px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 0.875rem 1rem 0.875rem 3rem;
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem;
            color: var(--light);
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-box i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 2rem;
            color: var(--light);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
        }

        /* Tool Cards Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .tool-card {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            padding: 1.5rem;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), transparent);
            opacity: 0;
            transition: var(--transition);
        }

        .tool-card:hover {
            transform: translateY(-8px) scale(1.02);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .tool-card:hover::before {
            opacity: 1;
        }

        .tool-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .tool-card h3 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--light);
        }

        .tool-card p {
            color: #94a3b8;
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .tool-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tool-tag {
            padding: 0.25rem 0.75rem;
            background: rgba(99, 102, 241, 0.1);
            color: var(--primary);
            border-radius: 1rem;
            font-size: 0.8rem;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        /* Tool Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 1.5rem;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .modal-body {
            padding: 1.5rem;
            max-height: 60vh;
            overflow-y: auto;
        }

        /* Chat Bot */
        .chat-bot {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1001;
        }

        .chat-toggle {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
            border: none;
            transition: var(--transition);
        }

        .chat-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(99, 102, 241, 0.5);
        }

        .chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background: var(--card-bg);
            border-radius: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-window.active {
            display: flex;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            padding: 1rem;
            background: var(--primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-messages {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            word-wrap: break-word;
        }

        .message.user {
            align-self: flex-end;
            background: var(--primary);
            color: white;
        }

        .message.bot {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .chat-input {
            padding: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 0.5rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            color: var(--light);
        }

        .chat-input button {
            padding: 0.75rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .chat-input button:hover {
            background: var(--primary-dark);
        }

        /* Tool Interface Styles */
        .tool-interface {
            padding: 1rem 0;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #94a3b8;
            font-weight: 500;
        }

        .input-group textarea,
        .input-group input,
        .input-group select {
            width: 100%;
            padding: 0.875rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            color: var(--light);
            font-family: inherit;
            font-size: 1rem;
            transition: var(--transition);
        }

        .input-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .input-group textarea:focus,
        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .tool-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .option-group {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .option-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .option-group input[type="range"] {
            width: 100%;
        }

        .range-value {
            text-align: center;
            color: var(--primary);
            font-weight: 600;
            margin-top: 0.25rem;
        }

        .tool-output {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .output-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .output-content {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 0.5rem;
            padding: 1rem;
            min-height: 100px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .output-content pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #e2e8f0;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .loading-output {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100px;
            color: #94a3b8;
        }

        .loading-output i {
            margin-right: 0.5rem;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .tool-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .tool-actions .btn {
            flex: 1;
            justify-content: center;
        }

        .btn-copy {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .btn-copy:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .btn-download {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-download:hover {
            background: linear-gradient(135deg, #059669, #047857);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .tools-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                max-width: 100%;
            }

            .tools-grid {
                grid-template-columns: 1fr;
            }

            .chat-window {
                width: calc(100vw - 4rem);
                right: -1rem;
            }

            .tool-options {
                grid-template-columns: 1fr;
            }

            .tool-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 0 1rem;
                padding-top: 100px;
            }

            .cta-buttons {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .section {
                padding: 3rem 1rem;
            }

            .chat-window {
                width: 100vw;
                height: 70vh;
                bottom: 70px;
                right: 0;
                border-radius: 1rem 1rem 0 0;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="logo">
            <i class="fas fa-robot"></i>
            <span>IAtoolbox</span>
        </div>
        <div class="nav-links">
            <a href="#inicio">Inicio</a>
            <a href="#herramientas">Herramientas</a>
            <a href="#acerca">Acerca</a>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="inicio">
        <div class="hero-content">
            <h1>Potencia tu creatividad con herramientas de IA gratuitas</h1>
            <p>Descubre más de 30 herramientas profesionales de inteligencia artificial para mejorar tu productividad, creatividad y eficiencia. Todo en un solo lugar, completamente gratuito.</p>
            <div class="cta-buttons">
                <a href="#herramientas" class="btn btn-primary">
                    <i class="fas fa-rocket"></i>
                    Explorar Herramientas
                </a>
                <a href="#chat" class="btn btn-secondary">
                    <i class="fas fa-comments"></i>
                    Probar Asistente IA
                </a>
            </div>
        </div>
    </section>

    <!-- Tools Section -->
    <section class="section" id="herramientas">
        <div class="section-header">
            <h2>Herramientas de IA</h2>
            <p>Selecciona entre nuestras herramientas especializadas</p>
        </div>

        <div class="tools-controls">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="toolSearch" placeholder="Buscar herramientas...">
            </div>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">Todas</button>
                <button class="filter-btn" data-filter="text">Texto</button>
                <button class="filter-btn" data-filter="image">Imágenes</button>
                <button class="filter-btn" data-filter="code">Código</button>
                <button class="filter-btn" data-filter="productivity">Productividad</button>
            </div>
        </div>

        <div class="tools-grid" id="toolsContainer">
            <!-- Tools will be generated by JavaScript -->
        </div>
    </section>

    <!-- About Section -->
    <section class="section" id="acerca">
        <div class="section-header">
            <h2>Sobre IAtoolbox</h2>
        </div>
        <div style="max-width: 800px; margin: 0 auto; text-align: center;">
            <p style="font-size: 1.1rem; color: #cbd5e1; margin-bottom: 2rem;">
                IAtoolbox es una plataforma profesional que reúne las mejores herramientas de inteligencia artificial en un solo lugar. 
                Nuestro objetivo es democratizar el acceso a la IA, proporcionando herramientas gratuitas y de alta calidad para todos.
            </p>
            <div class="stats" style="display: flex; justify-content: center; gap: 3rem; flex-wrap: wrap; margin-top: 3rem;">
                <div class="stat">
                    <h3 style="font-size: 2.5rem; color: var(--primary); margin-bottom: 0.5rem;">10+</h3>
                    <p>Herramientas IA</p>
                </div>
                <div class="stat">
                    <h3 style="font-size: 2.5rem; color: var(--primary); margin-bottom: 0.5rem;">100%</h3>
                    <p>Gratuito</p>
                </div>
                <div class="stat">
                    <h3 style="font-size: 2.5rem; color: var(--primary); margin-bottom: 0.5rem;">24/7</h3>
                    <p>Disponible</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Tool Modal -->
    <div class="modal" id="toolModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-cogs"></i> <span id="modalTitle">Herramienta IA</span></h3>
                <button class="close-modal" id="closeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Tool content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Chat Bot -->
    <div class="chat-bot">
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <h4><i class="fas fa-robot"></i> Asistente IA</h4>
                <button class="close-modal" id="closeChat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    ¡Hola! Soy tu asistente de IA. ¿En qué puedo ayudarte hoy?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Escribe tu mensaje...">
                <button id="sendMessage">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        <button class="chat-toggle" id="chatToggle">
            <i class="fas fa-comment-dots"></i>
        </button>
    </div>

    <!-- Footer -->
    <footer style="text-align: center; padding: 2rem; background: rgba(0, 0, 0, 0.5); border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 4rem;">
        <p>© 2025 IAtoolbox. Todos los derechos reservados.</p>
        <p style="color: #94a3b8; margin-top: 0.5rem;">Potenciado por IA avanzada</p>
    </footer>

    <script>
        // Configuration
        const CONFIG = {
            // Cambia esta URL por la de tu worker cuando lo tengas
            workerURL: 'https://ia-toolbox-proxy.TU-NOMBRE.workers.dev',
            useDemoMode: true, // Cambiar a false cuando tengas API key
            demoResponses: [
                "¡Interesante pregunta! Te recomendaría usar nuestra herramienta de generación de texto para esto.",
                "Para eso, puedes utilizar el corrector gramatical que encontrarás en la sección de herramientas de texto.",
                "La IA puede ayudarte con eso. Prueba nuestro resumidor automático para textos largos.",
                "Excelente idea. Nuestro generador de código puede asistirte con esa tarea.",
                "Para imágenes, te sugiero probar nuestro generador de imágenes con IA. Solo describe lo que necesitas."
            ]
        };

        // Tool Data
        const tools = [
            {
                id: 1,
                name: "Generador de Texto IA",
                description: "Crea contenido, artículos, emails y textos creativos con IA avanzada.",
                category: "text",
                icon: "fas fa-font",
                color: "#6366f1",
                tags: ["Texto", "Escritura", "Creativo"],
                apiEndpoint: "/api/generate-text",
                interface: "text-generator"
            },
            {
                id: 2,
                name: "Resumidor de Texto",
                description: "Resume textos largos manteniendo los puntos clave y el contexto importante.",
                category: "text",
                icon: "fas fa-file-contract",
                color: "#10b981",
                tags: ["Resumen", "Análisis", "Productividad"],
                apiEndpoint: "/api/summarize",
                interface: "text-summarizer"
            },
            {
                id: 3,
                name: "Corrector Gramatical",
                description: "Corrección gramatical, ortográfica y de estilo con sugerencias inteligentes.",
                category: "text",
                icon: "fas fa-spell-check",
                color: "#f59e0b",
                tags: ["Gramática", "Corrección", "Estilo"],
                apiEndpoint: "/api/correct-text",
                interface: "grammar-checker"
            },
            {
                id: 4,
                name: "Generador de Código",
                description: "Genera código en múltiples lenguajes a partir de descripciones en lenguaje natural.",
                category: "code",
                icon: "fas fa-code",
                color: "#ef4444",
                tags: ["Programación", "Desarrollo", "Código"],
                apiEndpoint: "/api/generate-code",
                interface: "code-generator"
            },
            {
                id: 5,
                name: "Explicador Simple",
                description: "Explica conceptos complejos de manera sencilla y fácil de entender.",
                category: "text",
                icon: "fas fa-lightbulb",
                color: "#3b82f6",
                tags: ["Educación", "Explicación", "Aprendizaje"],
                apiEndpoint: "/api/explain",
                interface: "explainer"
            },
            {
                id: 6,
                name: "Traductor IA",
                description: "Traduce textos manteniendo el contexto y tono original entre múltiples idiomas.",
                category: "text",
                icon: "fas fa-language",
                color: "#8b5cf6",
                tags: ["Traducción", "Idiomas", "Texto"],
                apiEndpoint: "/api/translate",
                interface: "translator"
            },
            {
                id: 7,
                name: "Generador de Ideas",
                description: "Genera ideas creativas para proyectos, contenido, nombres y más.",
                category: "productivity",
                icon: "fas fa-brain",
                color: "#ec4899",
                tags: ["Creatividad", "Ideas", "Brainstorming"],
                apiEndpoint: "/api/generate-ideas",
                interface: "idea-generator"
            },
            {
                id: 8,
                name: "Analizador de Sentimientos",
                description: "Analiza el sentimiento, tono y emociones en textos y comentarios.",
                category: "text",
                icon: "fas fa-chart-bar",
                color: "#06b6d4",
                tags: ["Análisis", "Sentimiento", "Métricas"],
                apiEndpoint: "/api/analyze-sentiment",
                interface: "sentiment-analyzer"
            },
            {
                id: 9,
                name: "Convertidor de Tono",
                description: "Cambia el tono de un texto (formal, casual, profesional, amigable).",
                category: "text",
                icon: "fas fa-exchange-alt",
                color: "#f97316",
                tags: ["Tono", "Estilo", "Reescritura"],
                apiEndpoint: "/api/change-tone",
                interface: "tone-converter"
            },
            {
                id: 10,
                name: "Generador de Títulos",
                description: "Crea títulos atractivos y SEO-friendly para artículos y contenido.",
                category: "text",
                icon: "fas fa-heading",
                color: "#22c55e",
                tags: ["Títulos", "SEO", "Marketing"],
                apiEndpoint: "/api/generate-titles",
                interface: "title-generator"
            }
        ];

        // DOM Elements
        const loader = document.getElementById('loader');
        const toolsContainer = document.getElementById('toolsContainer');
        const toolSearch = document.getElementById('toolSearch');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const toolModal = document.getElementById('toolModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const closeModal = document.getElementById('closeModal');
        const chatToggle = document.getElementById('chatToggle');
        const chatWindow = document.getElementById('chatWindow');
        const closeChat = document.getElementById('closeChat');
        const chatInput = document.getElementById('chatInput');
        const sendMessage = document.getElementById('sendMessage');
        const chatMessages = document.getElementById('chatMessages');
        const sections = document.querySelectorAll('.section');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Hide loader after 1.5 seconds
            setTimeout(() => {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                }, 500);
            }, 1500);

            // Generate tool cards
            renderTools(tools);

            // Setup event listeners
            setupEventListeners();

            // Setup scroll animations
            setupScrollAnimations();
        });

        // Render Tools
        function renderTools(toolsArray) {
            toolsContainer.innerHTML = '';
            toolsArray.forEach(tool => {
                const toolCard = document.createElement('div');
                toolCard.className = 'tool-card';
                toolCard.dataset.category = tool.category;
                toolCard.dataset.id = tool.id;
                
                toolCard.innerHTML = `
                    <div class="tool-icon" style="background: linear-gradient(135deg, ${tool.color}, ${tool.color}80)">
                        <i class="${tool.icon}"></i>
                    </div>
                    <h3>${tool.name}</h3>
                    <p>${tool.description}</p>
                    <div class="tool-tags">
                        ${tool.tags.map(tag => `<span class="tool-tag">${tag}</span>`).join('')}
                    </div>
                `;
                
                toolsContainer.appendChild(toolCard);
            });

            // Add click event to tool cards
            document.querySelectorAll('.tool-card').forEach(card => {
                card.addEventListener('click', () => openToolModal(parseInt(card.dataset.id)));
            });
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Search functionality
            toolSearch.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                const filteredTools = tools.filter(tool => 
                    tool.name.toLowerCase().includes(searchTerm) ||
                    tool.description.toLowerCase().includes(searchTerm) ||
                    tool.tags.some(tag => tag.toLowerCase().includes(searchTerm))
                );
                renderTools(filteredTools);
            });

            // Filter buttons
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    const filter = button.dataset.filter;
                    if (filter === 'all') {
                        renderTools(tools);
                    } else {
                        const filteredTools = tools.filter(tool => tool.category === filter);
                        renderTools(filteredTools);
                    }
                });
            });

            // Modal close
            closeModal.addEventListener('click', () => {
                toolModal.classList.remove('active');
            });

            // Chat toggle
            chatToggle.addEventListener('click', () => {
                chatWindow.classList.toggle('active');
                if (chatWindow.classList.contains('active')) {
                    chatInput.focus();
                }
            });

            closeChat.addEventListener('click', () => {
                chatWindow.classList.remove('active');
            });

            // Send message
            sendMessage.addEventListener('click', sendChatMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendChatMessage();
            });

            // Close modal on outside click
            toolModal.addEventListener('click', (e) => {
                if (e.target === toolModal) {
                    toolModal.classList.remove('active');
                }
            });

            // Theme toggle
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
        }

        // Open Tool Modal
        function openToolModal(toolId) {
            const tool = tools.find(t => t.id === toolId);
            if (!tool) return;

            modalTitle.textContent = tool.name;
            
            // Load specific interface for each tool
            let interfaceHTML = '';
            switch(tool.interface) {
                case 'text-generator':
                    interfaceHTML = getTextGeneratorInterface(tool);
                    break;
                case 'text-summarizer':
                    interfaceHTML = getTextSummarizerInterface(tool);
                    break;
                case 'grammar-checker':
                    interfaceHTML = getGrammarCheckerInterface(tool);
                    break;
                case 'code-generator':
                    interfaceHTML = getCodeGeneratorInterface(tool);
                    break;
                default:
                    interfaceHTML = getDefaultInterface(tool);
            }

            modalBody.innerHTML = interfaceHTML;
            
            // Add event listeners to the new interface
            setTimeout(() => {
                const generateBtn = document.getElementById('generateBtn');
                const copyBtn = document.getElementById('copyBtn');
                const downloadBtn = document.getElementById('downloadBtn');
                const temperatureSlider = document.getElementById('temperature');
                const temperatureValue = document.getElementById('temperatureValue');
                const maxTokensSlider = document.getElementById('maxTokens');
                const maxTokensValue = document.getElementById('maxTokensValue');

                if (generateBtn) {
                    generateBtn.addEventListener('click', () => generateContent(tool));
                }
                if (copyBtn) {
                    copyBtn.addEventListener('click', copyOutput);
                }
                if (downloadBtn) {
                    downloadBtn.addEventListener('click', downloadOutput);
                }
                if (temperatureSlider && temperatureValue) {
                    temperatureSlider.addEventListener('input', (e) => {
                        temperatureValue.textContent = e.target.value;
                    });
                }
                if (maxTokensSlider && maxTokensValue) {
                    maxTokensSlider.addEventListener('input', (e) => {
                        maxTokensValue.textContent = e.target.value;
                    });
                }
            }, 100);

            toolModal.classList.add('active');
        }

        // Interface Templates
        function getTextGeneratorInterface(tool) {
            return `
                <div class="tool-interface">
                    <div class="input-group">
                        <label for="textPrompt"><i class="fas fa-keyboard"></i> Describe lo que quieres generar:</label>
                        <textarea id="textPrompt" placeholder="Ej: Un correo formal para solicitar información sobre..."></textarea>
                    </div>
                    
                    <div class="tool-options">
                        <div class="option-group">
                            <label for="temperature">Creatividad: <span id="temperatureValue">0.7</span></label>
                            <input type="range" id="temperature" min="0" max="1" step="0.1" value="0.7">
                        </div>
                        <div class="option-group">
                            <label for="maxTokens">Longitud: <span id="maxTokensValue">500</span> tokens</label>
                            <input type="range" id="maxTokens" min="100" max="2000" step="100" value="500">
                        </div>
                        <div class="option-group">
                            <label for="toneSelect">Tono:</label>
                            <select id="toneSelect">
                                <option value="formal">Formal</option>
                                <option value="casual">Casual</option>
                                <option value="profesional">Profesional</option>
                                <option value="creativo">Creativo</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="tool-actions">
                        <button class="btn btn-primary" id="generateBtn">
                            <i class="fas fa-magic"></i> Generar Texto
                        </button>
                    </div>
                    
                    <div class="tool-output">
                        <div class="output-header">
                            <h4><i class="fas fa-file-alt"></i> Resultado:</h4>
                            <div>
                                <button class="btn btn-copy" id="copyBtn">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                                <button class="btn btn-download" id="downloadBtn">
                                    <i class="fas fa-download"></i> Descargar
                                </button>
                            </div>
                        </div>
                        <div class="output-content" id="outputContent">
                            <div class="loading-output" style="display: none;" id="loadingOutput">
                                <i class="fas fa-spinner fa-spin"></i> Generando contenido...
                            </div>
                            <pre id="outputText">El resultado aparecerá aquí...</pre>
                        </div>
                    </div>
                </div>
            `;
        }

        function getTextSummarizerInterface(tool) {
            return `
                <div class="tool-interface">
                    <div class="input-group">
                        <label for="textToSummarize"><i class="fas fa-file-alt"></i> Texto a resumir:</label>
                        <textarea id="textToSummarize" placeholder="Pega aquí el texto que quieres resumir..."></textarea>
                    </div>
                    
                    <div class="tool-options">
                        <div class="option-group">
                            <label for="summaryLength">Longitud del resumen:</label>
                            <select id="summaryLength">
                                <option value="short">Muy corto (1-2 frases)</option>
                                <option value="medium" selected>Medio (párrafos clave)</option>
                                <option value="detailed">Detallado (puntos principales)</option>
                            </select>
                        </div>
                        <div class="option-group">
                            <label for="summaryFormat">Formato:</label>
                            <select id="summaryFormat">
                                <option value="paragraph">Párrafo</option>
                                <option value="bullets" selected>Puntos</option>
                                <option value="keypoints">Puntos clave</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="tool-actions">
                        <button class="btn btn-primary" id="generateBtn">
                            <i class="fas fa-compress-alt"></i> Resumir Texto
                        </button>
                    </div>
                    
                    <div class="tool-output">
                        <div class="output-header">
                            <h4><i class="fas fa-file-contract"></i> Resumen:</h4>
                            <div>
                                <button class="btn btn-copy" id="copyBtn">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                        </div>
                        <div class="output-content" id="outputContent">
                            <div class="loading-output" style="display: none;" id="loadingOutput">
                                <i class="fas fa-spinner fa-spin"></i> Resumiendo texto...
                            </div>
                            <pre id="outputText">El resumen aparecerá aquí...</pre>
                        </div>
                    </div>
                </div>
            `;
        }

        function getDefaultInterface(tool) {
            return `
                <div class="tool-interface">
                    <div class="input-group">
                        <label for="toolInput"><i class="${tool.icon}"></i> Entrada:</label>
                        <textarea id="toolInput" placeholder="Ingresa el texto a procesar..."></textarea>
                    </div>
                    
                    <div class="tool-actions">
                        <button class="btn btn-primary" id="generateBtn">
                            <i class="fas fa-play"></i> Ejecutar Herramienta
                        </button>
                    </div>
                    
                    <div class="tool-output">
                        <div class="output-header">
                            <h4><i class="fas fa-file-alt"></i> Resultado:</h4>
                            <div>
                                <button class="btn btn-copy" id="copyBtn">
                                    <i class="fas fa-copy"></i> Copiar
                                </button>
                            </div>
                        </div>
                        <div class="output-content" id="outputContent">
                            <div class="loading-output" style="display: none;" id="loadingOutput">
                                <i class="fas fa-spinner fa-spin"></i> Procesando...
                            </div>
                            <pre id="outputText">El resultado aparecerá aquí...</pre>
                        </div>
                    </div>
                </div>
            `;
        }

        // Generate Content
        async function generateContent(tool) {
            const input = document.getElementById('textPrompt') || 
                         document.getElementById('textToSummarize') || 
                         document.getElementById('toolInput');
            const outputText = document.getElementById('outputText');
            const loadingOutput = document.getElementById('loadingOutput');

            if (!input || !input.value.trim()) {
                alert('Por favor, ingresa algún texto primero.');
                return;
            }

            // Show loading
            if (loadingOutput) loadingOutput.style.display = 'flex';
            if (outputText) outputText.style.display = 'none';

            try {
                if (CONFIG.useDemoMode) {
                    // Demo mode - simulate API response
                    await new Promise(resolve => setTimeout(resolve, 1500));
                    
                    const demoResponses = {
                        'text-generator': `Basado en tu solicitud, he generado el siguiente texto:

Estimado/a [Nombre del destinatario],

Me dirijo a usted con el propósito de solicitar información detallada acerca de [tema específico]. Como parte de [contexto o proyecto], considero fundamental contar con datos precisos y actualizados que me permitan [objetivo o propósito].

Agradecería enormemente si pudiera proporcionarme información relativa a:
1. [Punto específico 1]
2. [Punto específico 2]
3. [Punto específico 3]

Quedo a la espera de su amable respuesta y me pongo a su disposición para cualquier aclaración adicional que pueda requerir.

Atentamente,
[Tu nombre]`,
                        
                        'text-summarizer': `**Resumen del texto:**

**Puntos clave:**
• El texto aborda la importancia de la inteligencia artificial en el ámbito empresarial
• Se destacan las ventajas en términos de eficiencia y productividad
• Se mencionan casos de uso específicos en diferentes industrias
• Se analizan los desafíos éticos y de implementación
• Se proyecta el futuro desarrollo de estas tecnologías

**Conclusiones principales:**
La IA está transformando los modelos de negocio, pero requiere una implementación cuidadosa que considere aspectos técnicos y éticos.`,
                        
                        'grammar-checker': `**Texto corregido:**

El desarrollo de aplicaciones web modernas requiere un enfoque integral que considere tanto el frontend como el backend. Es fundamental implementar buenas prácticas de programación, mantener un código limpio y documentado, así como realizar pruebas exhaustivas antes del despliegue en producción.

Además, es importante considerar aspectos de seguridad, rendimiento y escalabilidad desde las primeras etapas del desarrollo. La elección de tecnologías adecuadas y la arquitectura del sistema son decisiones cruciales que impactarán en el éxito del proyecto a largo plazo.`
                    };

                    const response = demoResponses[tool.interface] || 
                        `Resultado de la herramienta "${tool.name}" para: "${input.value.substring(0, 100)}..."\n\nEsta es una demostración. Con una API key real, obtendrías resultados generados por IA.`;
                    
                    outputText.textContent = response;
                } else {
                    // Real API call
                    const response = await fetch(`${CONFIG.workerURL}${tool.apiEndpoint}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            text: input.value,
                            // Add other parameters based on tool
                        })
                    });

                    const data = await response.json();
                    outputText.textContent = data.result || 
                        data.choices?.[0]?.message?.content || 
                        'Respuesta recibida de la IA';
                }
            } catch (error) {
                console.error('Error:', error);
                outputText.textContent = `Error: ${error.message}\n\nSugerencia: Activa el modo demo o configura tu API key.`;
            } finally {
                // Hide loading
                if (loadingOutput) loadingOutput.style.display = 'none';
                if (outputText) outputText.style.display = 'block';
            }
        }

        // Copy Output
        function copyOutput() {
            const outputText = document.getElementById('outputText');
            if (outputText) {
                navigator.clipboard.writeText(outputText.textContent)
                    .then(() => {
                        const copyBtn = document.getElementById('copyBtn');
                        const originalHTML = copyBtn.innerHTML;
                        copyBtn.innerHTML = '<i class="fas fa-check"></i> ¡Copiado!';
                        setTimeout(() => {
                            copyBtn.innerHTML = originalHTML;
                        }, 2000);
                    })
                    .catch(err => {
                        console.error('Error al copiar:', err);
                        alert('Error al copiar el texto');
                    });
            }
        }

        // Download Output
        function downloadOutput() {
            const outputText = document.getElementById('outputText');
            if (outputText) {
                const blob = new Blob([outputText.textContent], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `ia-toolbox-resultado-${Date.now()}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
        }

        // Chat Functions
        async function sendChatMessage() {
            const message = chatInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            chatInput.value = '';

            // Show typing indicator
            const typingMsg = document.createElement('div');
            typingMsg.className = 'message bot';
            typingMsg.innerHTML = '<i class="fas fa-ellipsis-h"></i> Escribiendo...';
            typingMsg.id = 'typingIndicator';
            chatMessages.appendChild(typingMsg);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            try {
                let responseText;
                
                if (CONFIG.useDemoMode) {
                    // Demo response
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    responseText = CONFIG.demoResponses[Math.floor(Math.random() * CONFIG.demoResponses.length)];
                } else {
                    // Real API call
                    const response = await fetch(`${CONFIG.workerURL}/api/chat`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            messages: [
                                { 
                                    role: 'system', 
                                    content: 'Eres un asistente de IA útil para IAtoolbox. Responde en español de manera amable y profesional. Ayuda con herramientas de IA, generación de contenido y productividad.' 
                                },
                                { role: 'user', content: message }
                            ],
                            model: 'gpt-3.5-turbo',
                            temperature: 0.7
                        })
                    });

                    const data = await response.json();
                    responseText = data.choices?.[0]?.message?.content || 
                        'Lo siento, no pude generar una respuesta.';
                }

                // Remove typing indicator
                document.getElementById('typingIndicator')?.remove();
                
                // Add bot message
                addMessage(responseText, 'bot');

            } catch (error) {
                console.error('Chat error:', error);
                document.getElementById('typingIndicator')?.remove();
                addMessage('⚠️ Error de conexión. Prueba activando el modo demo.', 'bot');
            }
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Theme Toggle
        function toggleTheme() {
            const icon = document.querySelector('#themeToggle i');
            const isDark = document.body.style.filter === 'invert(1) hue-rotate(180deg)';
            
            if (isDark) {
                // Switch to dark mode
                document.body.style.filter = 'none';
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                localStorage.setItem('theme', 'dark');
            } else {
                // Switch to light mode
                document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
                localStorage.setItem('theme', 'light');
            }
        }

        // Load saved theme
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const icon = document.querySelector('#themeToggle i');
            
            if (savedTheme === 'light') {
                document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
            }
        }

        // Scroll Animations
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            sections.forEach(section => observer.observe(section));
        }

        // Initialize theme
        loadTheme();
    </script>
</body>
</html>
